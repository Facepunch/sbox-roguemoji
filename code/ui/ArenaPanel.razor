@using Sandbox;
@using Sandbox.UI;

@inherits GridPanel;
@namespace Interfacer

<style>
    .grid_bg 
    {
        opacity: 0.04;
        position:absolute;
        pointer-events:none;
        background-repeat: repeat;
        background-position: 0 0;
        background-size: 80px;
        border-radius:3px;
        width:100%;
        height:100%;
    }
</style>

<root class>
    <div class="grid_bg" style="background-image: url( textures/bg_tile.png );"></div>
    @for (int i = 0; i < GridWidth * GridHeight; i++)
    {
        var localI = i;
        var gridPos = GetGridPos(localI);
        <GridCell style="left: @(gridPos.x * 40); top: @(gridPos.y * 40 - 2);" @Index=@localI @onmouseover=@(() => HoveredCellIndex = localI ) @onclick=@(() => OnCellClicked(localI)) />
    }
</root>

@code
{
    public override int GridWidth => InterfacerGame.ArenaWidth;
    public override int GridHeight => InterfacerGame.ArenaHeight;
    public override GridPanelType GridPanelType => GridPanelType.Arena;
}