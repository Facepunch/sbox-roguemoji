@using Sandbox;
@using Sandbox.UI;
@using System;

@inherits Panel;
@namespace Roguemoji

<style>
    .log_message 
    {
        width: 100%;
        padding: 0 2px 0 2px;
        //background-color: #ff000066;
        color: #aaaaaa;
        flex-shrink:0;
    }

    .player-1 { color: #3333ff; } 
    .player-2 { color: #ff0000; }
    .player-3 { color: #009900; }
    .player-4 { color: #ff00ff; }
    .player-5 { color: #ffff00; }
    .player-6 { color: #2299ff; }
    .player-7 { color: #8800bb; }
    .player-8 { color: #ff8800; }
</style>

<root class="log_message @playerClass()">
    @(Hud.GetText(Text))
</root>

@code
{
    public string Text { get; set; }
    public int PlayerNum { get; set; }

    private string playerClass()
    {
        return PlayerNum > 0 ? $"player-{PlayerNum}" : "";
    }

    protected override int BuildHash()
    {
        var player = RoguemojiGame.Instance.LocalPlayer;
        return HashCode.Combine(Text, player.ConfusionSeed);
    }
}